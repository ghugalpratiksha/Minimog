(()=>{var t={457:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});r(422);const o=new class{constructor(){return this.component=this.component.bind(this),this.component}component(t,e){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if("function"==typeof t)return t({...e,children:o});o&&(o=o.filter((t=>null!==t))),e&&(e.class&&(e.className=e.class),delete e.children);let a="fragment"!==t?function(t,e){e=e||{};let r=document.createElement(t);try{r=Object.assign(r,e)}catch{const t=Object.keys(e);for(let o=0;o<t.length;o++)"dataSet"!==e[o]&&r.setAttribute(t[o],e[t[o]])}return r}(t,e):document.createDocumentFragment();if(-1!==["svg","path","rect","text","circle","g"].indexOf(t)){a=document.createElementNS("http://www.w3.org/2000/svg",t);for(const t in e){const r="className"===t?"class":t;a.setAttribute(r,e[t])}}for(const t of o)Array.isArray(t)?a.append(...t):a.append(t);if(e?.dataSet)for(const t in e.dataSet)Object.prototype.hasOwnProperty.call(e.dataSet,t)&&(a.dataset[t]=e.dataSet[t]);return e&&!window.__aleartedJSXData&&Object.keys(e).find((t=>t.match(/^data-/)))&&(alert("Do not use data-* in your JSX component! Use dataSet instead!! - Check the console.trace for more info"),window.__aleartedJSXData=!0),e?.ref&&("function"==typeof e.ref?e.ref(a):e.ref=a),e?.on&&Object.entries(e.on).forEach((t=>{let[e,r]=t;a.addEventListener(e,r)})),e?.style&&Object.entries(e.style).forEach((t=>{let[e,r]=t;a.style.setProperty(e,r)})),a}}},422:()=>{!function(){function t(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach((function(t){var r=t instanceof Node;e.appendChild(r?t:document.createTextNode(String(t)))})),this.appendChild(e)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:t})}))}()}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e){var r=function(e,r){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,r||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"===t(r)?r:String(r)}function o(t,r,o){return(r=e(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}var i=r(457).Z;var a=r(457).Z;const n=t=>{let{variant:e}=t;const{moneyFormat:r}=FoxKitSettings,o=a("del",{class:"foxkit-product-card__compare-price foxkit-hidden"}),i=a("span",{class:"foxkit-product-card__price"});return i.innerHTML=window.FoxKitV2.Utils.formatMoney(e.price,r),e.compare_at_price&&(o.classList.remove("foxkit-hidden"),o.innerHTML=window.FoxKitV2.Utils.formatMoney(e.compare_at_price,r)),a("div",{className:"foxkit-card__prices"},o,e.price?i:null)};var c=r(457).Z;function s(t){let{settings:e,target_product:r}=t;const{discount:o,active_discount:a}=e.config,s=e.config.products||[];return s.length?c("div",{className:"f-incart"},c("h3",{className:"f-incart__title"},window.__i18n.tr("incart_title",{product_title:r?.product_title})),a?c("div",{className:"f-upsell__discount"},c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none",viewBox:"0 0 18 19"},c("path",{fill:"#DA3F3F",d:"M17.4375 7.49219C17.8125 8.00781 18 8.59375 18 9.25s-.1875 1.2539-.5625 1.793c-.375.5156-.8555.8789-1.4414 1.0898.2578.5625.3281 1.1719.2109 1.8281-.0937.6329-.375 1.1836-.8437 1.6524-.4688.4687-1.0195.75-1.6524.8437-.6328.1172-1.2421.0469-1.8281-.2109-.1406.3984-.3516.7383-.6328 1.0195-.2812.3047-.6211.5391-1.0195.7032-.37503.1874-.78519.2812-1.2305.2812-.65625 0-1.25391-.1875-1.79297-.5625-.51562-.375-.87891-.8555-1.08984-1.4414-.58594.2578-1.19531.3281-1.82813.2109-.63281-.0937-1.18359-.375-1.65234-.8437-.46875-.4688-.76172-1.0195-.87891-1.6524-.09375-.6562-.01172-1.2656.2461-1.8281C1.41797 11.9219.9375 11.5586.5625 11.043.1875 10.5039 0 9.90625 0 9.25s.1875-1.24219.5625-1.75781c.375-.53906.85547-.91407 1.44141-1.125-.25782-.5625-.33985-1.16016-.2461-1.79297.11719-.65625.41016-1.21875.87891-1.6875.46875-.46875 1.01953-.75 1.65234-.84375.65625-.11719 1.26563-.04688 1.82813.21094.21093-.58594.57422-1.06641 1.08984-1.44141C7.74609.4375 8.34375.25 9 .25s1.2422.1875 1.7578.5625c.5391.375.9141.85547 1.125 1.44141.5625-.25782 1.1602-.32813 1.793-.21094.6562.09375 1.2187.375 1.6875.84375.4687.46875.75 1.03125.8437 1.6875.1172.63281.0469 1.23047-.2109 1.79297.5859.21093 1.0664.58594 1.4414 1.125zM7.52344 6.22656C7.3125 5.99219 7.05469 5.875 6.75 5.875s-.57422.11719-.80859.35156C5.73047 6.4375 5.625 6.69531 5.625 7s.10547.57422.31641.80859c.23437.21094.5039.31641.80859.31641s.5625-.10547.77344-.31641C7.75781 7.57422 7.875 7.30469 7.875 7s-.11719-.5625-.35156-.77344zm-.35156 6.04684l4.85152-4.85152c.2578-.25782.2578-.51563 0-.77344l-.4218-.42188c-.2578-.25781-.5157-.25781-.7735 0L5.97656 11.0781c-.25781.2578-.25781.5157 0 .7735l.42188.4218c.25781.2578.51562.2578.77344 0zm3.26952.0352c.2344.2109.5039.3164.8086.3164.3047 0 .5625-.1055.7734-.3164.2344-.2344.3516-.5039.3516-.8086 0-.3047-.1172-.5625-.3516-.7734-.2109-.2344-.4687-.3516-.7734-.3516-.3047 0-.5742.1172-.8086.3516-.2109.2109-.3164.4687-.3164.7734 0 .3047.1055.5742.3164.8086z"})),function(t){const e=i("span",null),r="PERCENTAGE"===t?.type?`${t?.value}%`:window.FoxKitV2.Utils.formatMoney(100*t?.value*Number(window.Shopify?.currency?.rate||1),FoxKitSettings.moneyFormat);return e.innerHTML=window.__i18n.tr("discount_summary",{discount_value:r}),e}(o)):"",c("div",{className:"f-incart__products"},s.map(((t,o)=>{if(!t||!t.available||t?.handle===r?.handle)return"";const{available:i}=t,s=t.url||(d=t.handle,`${Shopify.routes.root}products/${d}`);var d;const l=t.variants.filter((t=>t.available))[0];if(!l)return"";const u=1===t.variants.length&&"default title"===l.title.toLowerCase();return c("foxkit-product-card",{key:o,className:"f-incart__product sf-prod__block"},c("form",{className:"f-incart__product-inner product-form foxkit-product-form"},c("input",{type:"hidden",name:"form_type",value:"product"}),c("input",{type:"hidden",name:"utf8",value:"âœ“"}),a?c("input",{type:"hidden",name:`properties[${window.FoxKitV2.Utils.PLUGINS_HAS_DISCOUNT_MAP_PROPERTIES?.InCart}]`,value:e.config._id}):"",c("div",{className:"f-incart__product-image spc__main-img"},c("a",{href:s},c("img",{src:t.featured_image?`${t.featured_image}&width=200`:"https://dummyimage.com/300x/ddd/aaa",alt:t.title,className:"foxkit-product-card__img"}))),c("div",{className:"f-incart__product-info"},c("p",{className:"f-incart__product-title"},c("a",{href:s},t.title)),c(n,{variant:l}),u?c("input",{type:"hidden",name:"id",value:l.id}):c("div",{className:"f-incart__product-options"},c("select",{value:l.id,name:"id",className:"sf-product-variant-option-dropdown foxkit-form-control combined-variant"},t.variants?.map(((t,e)=>c("option",{key:e,value:t.id,disabled:!t.available},t?.title))))),c("button",{type:"submit",name:"add",className:"f-incart__product-add add-to-cart foxkit-button foxkit-button--primary btn-atc relative",disabled:!i,dataSet:{atcText:window.__i18n.tr("add_button")}},c("span",{className:"foxkit-spinner"},c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},c("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),c("span",{className:"atc-text"},window.__i18n.tr("add_button"))))))})))):""}var d=r(457).Z;window.FoxKitV2=window.FoxKitV2||{},window.FoxKitV2.Modules.InCart=new class{constructor(){o(this,"getCart",(async t=>{t||(t=await FoxKitV2.getCart()),t&&(this.cartItems=t.items),this.getRecommendedList()})),o(this,"getRecommendedList",(async()=>{if(this.offers=[],!this.cartItems.length)return;const t=Array.from(new Set(this.cartItems.map((t=>{let{product_id:e}=t;return e})))).map((async t=>{let e={productId:t},r={plg:"inCart",productId:t};const o=document.querySelector(`[data-foxkit-product-id="${t}"], .m-cart-drawer--item[data-product-id="${t}"], .m-cart--item[data-product-id="${t}"], .m-cart-item[data-product-id="${t}"], .f-cart-drawer__item[data-cart-item-product-id="${t}"]`);if(o){e.selector=o;const t=o.dataset.foxkitCollections;t&&(r.collectionIds=t.split(",").filter(Boolean))}const i=await FoxKitV2.Helpers.getPluginData(r);i&&this.offers.push({...e,config:i})}));await Promise.all(t),this.offers=this.getUniqueConfigs(this.offers),Object.values(this.offers).map((t=>this.renderRecommendedList(t)))})),o(this,"getUniqueConfigs",(t=>{const e=t,r=[];for(const t of e)t?.config?._id&&(r.includes(t?.config?._id)?delete t.config:r.push(t?.config?._id));return e})),o(this,"renderRecommendedList",(async t=>{if(!t?.config?.products?.length||!t?.selector)return;const e="TR"===t.selector.tagName,r=d(s,{target_product:this.cartItems.find((e=>{let{product_id:r}=e;return r===t.productId})),settings:t}),o=t.selector.querySelector(this.hookSelector)||t.selector;o?.querySelector(".f-incart")?.remove(),e?(t.selector.closest("table").classList.add("table--with-incart"),t.selector.classList.add("cart-item--with-incart"),t.selector.after(d("tr",{className:"f-incart__row"},d("td",{colSpan:t.selector.children.length},r)))):o.appendChild(r),r.querySelectorAll("foxkit-product-card").forEach(((e,r)=>{e.setupData(t.config.products[r])}))})),this.hookSelector=".foxkit-incart-items, foxkit-incart-items",this.cartItems=[],this.offers=[]}init(){this.getCart(),window.FoxkitEvents.subscribe("ON_CART_UPDATE",(async t=>{this.cartItems=t.items,this.getRecommendedList()}))}}})()})();