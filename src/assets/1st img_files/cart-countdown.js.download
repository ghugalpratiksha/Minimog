customElements.get("foxkit-cart-countdown")||customElements.define("foxkit-cart-countdown",class extends HTMLElement{constructor(){super(),window.FoxKitThemeHelperEnabled&&(this.config=window.FoxKitPlugins.CartCountdown,this.config.show_on_drawer||this.classList.add("hide-on-drawer"),this.initCountdown())}connectedCallback(){window.FoxkitEvents.subscribe("ON_FOXKIT_CART_UPDATE",(t=>{0===t.item_count&&this.classList.add("foxkit-hidden")}))}initCountdown=()=>{const t=this.querySelector("[data-countdown-message]"),e=Date.now(),o=Number(this.dataset.countdownTime)||5,s="true"===this.dataset.repeat,i=this.dataset.timeoutMessage,n=e+60*o*1e3;this.timer=new FoxKitV2.Modules.CountdownTimer(this,e,n,{addZeroPrefix:!1,loop:s,callback:()=>{!s&&i&&(t.innerHTML=i,this.classList.add("time-out"),this.style.color="#f44336")}})}});